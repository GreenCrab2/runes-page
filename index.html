<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>...</title>
  <style>
    :root{
      --hud: #dfffff;
      --vhsPink: rgba(255,0,150,.18);
      --vhsCyan: rgba(0,255,255,.18);
      --black: #050507;

      --eyeGlow: rgba(0,255,220,.08);
      --eyeShadow: rgba(0,0,0,.65);
      --irisTint: rgba(90,255,240,.35);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{
      width:100%;height:100%;overflow:hidden;background:var(--black);
      font-family:Consolas,"Courier New",monospace;color:var(--hud);
    }

    /* ===== SCREEN WRAP for TV OFF ===== */
    #screen{
      position:fixed; inset:0;
      background: radial-gradient(circle at 50% 35%, rgba(10,12,18,.55), rgba(5,5,7,1) 70%);
      transform-origin:center;
    }

    /* subtle CRT warp + vignette */
    #screen::before{
      content:"";
      position:absolute; inset:-2%;
      background:
        radial-gradient(circle at 50% 0%, rgba(255,255,255,.03) 0, transparent 55%),
        radial-gradient(circle at 0% 100%, rgba(0,255,255,.03) 0, transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(255,0,128,.03) 0, transparent 55%);
      mix-blend-mode: soft-light;
      opacity:.9;
      pointer-events:none;
      animation: warp 16s ease-in-out infinite;
    }
    @keyframes warp{
      0%{transform:scale(1.01) translate(0,0)}
      50%{transform:scale(1.018,1.01) translate(1px,-1px)}
      100%{transform:scale(1.01) translate(0,0)}
    }

    /* scanlines */
    #scanlines{
      position:fixed; inset:0; pointer-events:none; z-index:5;
      background: repeating-linear-gradient(
        0deg,
        rgba(0,0,0,.55) 0px,
        rgba(0,0,0,.55) 2px,
        transparent 3px,
        transparent 6px
      );
      opacity:.32;
      mix-blend-mode:multiply;
    }

    /* noise */
    #noise{
      position:fixed; inset:0; pointer-events:none; z-index:6;
      opacity:.12;
      background: repeating-linear-gradient(
        0deg,
        rgba(255,255,255,.03) 0px,
        rgba(255,255,255,.03) 1px,
        rgba(0,0,0,.03) 1px,
        rgba(0,0,0,.03) 3px
      );
      animation: noiseShift 10s linear infinite;
    }
    @keyframes noiseShift{
      0%{transform:translate(0,0)}
      100%{transform:translate(-90px,0)}
    }

    /* slow tracking band */
    #tracking{
      position:fixed; inset:0; pointer-events:none; z-index:7;
      opacity:0;
      background: linear-gradient(to bottom,
        transparent 0%,
        rgba(255,255,255,.10) 48%,
        rgba(0,0,0,.60) 52%,
        transparent 100%
      );
      mix-blend-mode:screen;
      animation: tracking 10s infinite;
    }
    @keyframes tracking{
      0%,76%{opacity:0;transform:translateY(-120%)}
      82%{opacity:.28;transform:translateY(-15%)}
      94%{opacity:.15;transform:translateY(60%)}
      100%{opacity:0;transform:translateY(130%)}
    }

    /* ===== Eyes layer ===== */
    #eyesLayer{
      position:fixed; inset:0; z-index:10;
      pointer-events:none;
    }

    /* === Human eyeball === */
    .eye{
      position:absolute;
      width: 160px; height: 160px;
      opacity:0;
      transform: translate(-50%,-50%) scale(.98);
      transition: opacity .9s ease, transform .9s ease;
      filter: drop-shadow(0 0 16px var(--eyeGlow));
      will-change: transform;
    }
    .eye.on{
      opacity:1;
      transform: translate(-50%,-50%) scale(1);
    }

    .ball{
      position:absolute; inset:0;
      border-radius:50%;
      /* По умолчанию — реалистичный CSS-глаз */
      background:
        radial-gradient(circle at 30% 28%, rgba(255,255,255,.55), rgba(255,255,255,.12) 28%, rgba(20,22,28,.65) 70%),
        radial-gradient(circle at 55% 62%, rgba(255,120,120,.10), transparent 55%),
        repeating-linear-gradient(25deg, rgba(255,70,70,.07) 0px, rgba(255,70,70,.07) 1px, transparent 2px, transparent 12px),
        radial-gradient(circle at 50% 50%, rgba(240,245,255,.20), rgba(220,230,255,.08) 40%, rgba(10,12,18,.85) 80%);
      box-shadow:
        inset 0 0 28px rgba(0,0,0,.55),
        inset -16px 10px 26px rgba(0,0,0,.40),
        0 22px 30px rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.10);
      overflow:hidden;
    }

    /* ✅ Если хочешь “как на твоём PNG 1-в-1” — положи файл eye.png рядом и РАСКОММЕНТИРУЙ: */
    /*
    .ball{
      background-image: url('eye.png');
      background-size: cover;
      background-position: center;
      border: 1px solid rgba(255,255,255,.10);
      box-shadow:
        inset 0 0 30px rgba(0,0,0,.55),
        0 22px 30px rgba(0,0,0,.35);
    }
    */

    /* subtle glass shine */
    .ball::before{
      content:"";
      position:absolute; inset:-10%;
      border-radius:50%;
      background:
        radial-gradient(circle at 32% 28%, rgba(255,255,255,.35), transparent 35%),
        radial-gradient(circle at 62% 70%, rgba(255,255,255,.08), transparent 45%);
      mix-blend-mode: screen;
      opacity:.75;
      pointer-events:none;
      transform: rotate(-10deg);
    }

    /* vignette edge + chroma */
    .ball::after{
      content:"";
      position:absolute; inset:0;
      border-radius:50%;
      box-shadow:
        inset 0 0 0 2px rgba(0,255,255,.05),
        inset 0 0 0 4px rgba(255,0,150,.04),
        inset 0 0 26px rgba(0,0,0,.65);
      pointer-events:none;
    }

    /* Iris + pupil layer (moves!) */
    .irisWrap{
      position:absolute;
      left:50%; top:50%;
      width: 56px; height: 56px;
      transform: translate(-50%,-50%);
      border-radius:50%;
      will-change: transform;
      pointer-events:none;
    }

    .iris{
      position:absolute; inset:0;
      border-radius:50%;
      background:
        radial-gradient(circle at 35% 35%, rgba(255,255,255,.14), transparent 38%),
        radial-gradient(circle at 50% 50%, rgba(0,0,0,.80) 0 24%, transparent 25%),
        conic-gradient(from 12deg,
          rgba(0,255,220,.14),
          rgba(0,255,220,.06),
          rgba(255,255,255,.05),
          rgba(0,255,220,.10),
          rgba(0,0,0,0)
        ),
        radial-gradient(circle at 50% 50%, rgba(70,210,255,.18), rgba(0,0,0,.0) 60%);
      box-shadow:
        0 0 18px rgba(0,255,220,.10),
        inset 0 0 10px rgba(0,0,0,.50);
      opacity:.95;
      filter: saturate(1.1);
    }

    .pupil{
      position:absolute;
      left:50%; top:50%;
      width: 16px; height: 16px;
      transform: translate(-50%,-50%);
      border-radius:50%;
      background: rgba(0,0,0,.96);
      box-shadow: 0 0 14px rgba(0,0,0,.85);
    }

    /* tiny “wet” specular dot on pupil */
    .spec{
      position:absolute;
      left:38%; top:32%;
      width: 10px; height: 8px;
      border-radius:999px;
      background: rgba(255,255,255,.25);
      filter: blur(.3px);
      transform: rotate(-12deg);
      opacity:.9;
    }

    /* ===== Center button (bear footprint) ===== */
    #center{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      z-index:20;
      pointer-events:none;
    }

    .pawBtn{
      pointer-events:auto;
      cursor:pointer;
      border:none;
      background:transparent;
      transform: translateZ(0);
    }

    .pawWrap{
      position:relative;
      width:min(340px, 84vw);
      aspect-ratio: 1 / 1;
      display:grid;
      place-items:center;
      filter: drop-shadow(0 0 22px rgba(0,255,220,.10));
    }
    .pawWrap svg{width:100%;height:100%}

    /* Важно: кнопка НЕ “подмигивает” как UI.
       Лучше пусть реагируют глаза, а не она. */
    .pawText{
      position:absolute;
      width:72%;
      text-align:center;
      font-weight:900;
      letter-spacing:.14em;
      text-transform:uppercase;
      color: var(--hud);
      text-shadow:
        -1px 0 var(--vhsPink),
         1px 0 var(--vhsCyan),
         0 0 14px rgba(0,255,220,.14);
      line-height:1.15;
      font-size: clamp(14px, 3.3vw, 18px);
      user-select:none;
      opacity:.92;
    }
    .pawSub{
      display:block;
      margin-top:10px;
      opacity:.70;
      font-weight:800;
      font-size: .82em;
      letter-spacing:.12em;
    }
    .pawBtn:active{ transform: scale(.985); }

    /* ===== TV OFF animation ===== */
    .tvOff{
      animation: tvOff 760ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes tvOff{
      0%{ transform: scale(1); filter: brightness(1); opacity: 1; }
      55%{
        transform: scaleY(0.03) scaleX(1.02);
        filter: brightness(1.35) contrast(1.15);
        opacity: 1;
      }
      70%{
        transform: scaleY(0.01) scaleX(0.02);
        filter: brightness(1.9) contrast(1.3);
        opacity: 1;
      }
      100%{ transform: scale(0); opacity: 0; }
    }

    #blackout{
      position:fixed; inset:0; background:#000; z-index:999;
      opacity:0; pointer-events:none;
      transition: opacity .2s ease;
    }
    #blackout.on{ opacity:1; }
  </style>
</head>
<body>
  <div id="screen">
    <div id="eyesLayer"></div>

    <div id="center">
      <button class="pawBtn" id="breakBtn" aria-label="Разрушить проклятие">
        <div class="pawWrap">
          <!-- BEAR FOOTPRINT (muddy imprint) -->
          <svg viewBox="0 0 512 512" aria-hidden="true">
            <defs>
              <radialGradient id="mud" cx="35%" cy="30%" r="80%">
                <stop offset="0%" stop-color="rgba(230,255,255,0.14)"/>
                <stop offset="35%" stop-color="rgba(0,255,220,0.08)"/>
                <stop offset="100%" stop-color="rgba(5,5,7,0.94)"/>
              </radialGradient>
              <filter id="rough">
                <feTurbulence type="fractalNoise" baseFrequency="0.020" numOctaves="2" seed="7" result="n"/>
                <feDisplacementMap in="SourceGraphic" in2="n" scale="12" xChannelSelector="R" yChannelSelector="G"/>
              </filter>
            </defs>

            <!-- toes -->
            <path filter="url(#rough)"
              d="M145 150c-28 0-48 23-48 51s17 57 43 57c27 0 50-24 50-54s-17-54-45-54z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.06)" />
            <path filter="url(#rough)"
              d="M235 120c-30 0-54 23-54 55s21 63 50 63c31 0 56-26 56-60s-20-58-52-58z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.06)" />
            <path filter="url(#rough)"
              d="M325 130c-30 0-55 22-55 54s21 64 50 64c31 0 57-26 57-61s-20-57-52-57z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.06)" />
            <path filter="url(#rough)"
              d="M405 180c-26 0-46 21-46 49s16 58 41 58c27 0 48-25 48-55s-16-52-43-52z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.06)" />

            <!-- main pad -->
            <path filter="url(#rough)"
              d="M256 205
                 C186 205 120 260 120 338
                 C120 434 188 486 256 486
                 C324 486 392 434 392 338
                 C392 260 326 205 256 205 Z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.08)" />

            <!-- subtle claw hints -->
            <path d="M135 238c10-10 18-14 28-16" stroke="rgba(0,255,220,0.08)" stroke-width="3" stroke-linecap="round"/>
            <path d="M220 215c10-11 19-16 31-18" stroke="rgba(0,255,220,0.08)" stroke-width="3" stroke-linecap="round"/>
            <path d="M312 220c11-12 21-16 34-18" stroke="rgba(0,255,220,0.08)" stroke-width="3" stroke-linecap="round"/>
            <path d="M388 252c10-10 18-13 28-14" stroke="rgba(0,255,220,0.08)" stroke-width="3" stroke-linecap="round"/>

            <!-- VHS edge glow -->
            <path
              d="M256 205
                 C186 205 120 260 120 338
                 C120 434 188 486 256 486
                 C324 486 392 434 392 338
                 C392 260 326 205 256 205 Z"
              fill="none" stroke="rgba(0,255,220,0.12)" stroke-width="3"/>
          </svg>

          <div class="pawText">
            РАЗРУШИТЬ<br/>ПРОКЛЯТИЕ
            <span class="pawSub">оставь отпечаток</span>
          </div>
        </div>
      </button>
    </div>

    <div id="scanlines"></div>
    <div id="noise"></div>
    <div id="tracking"></div>
  </div>

  <div id="blackout"></div>

  <script>
    // ===== Pointer tracking =====
    let pointerX = window.innerWidth * 0.5;
    let pointerY = window.innerHeight * 0.5;

    function setPointer(x,y){ pointerX=x; pointerY=y; }

    window.addEventListener('mousemove', (e)=> setPointer(e.clientX,e.clientY), {passive:true});
    window.addEventListener('touchstart', (e)=>{
      const t = e.touches[0]; if(!t) return;
      setPointer(t.clientX, t.clientY);
    }, {passive:true});
    window.addEventListener('touchmove', (e)=>{
      const t = e.touches[0]; if(!t) return;
      setPointer(t.clientX, t.clientY);
    }, {passive:true});

    // ===== Eyes generation =====
    const eyesLayer = document.getElementById('eyesLayer');
    const EYES_COUNT = 12; // меньше, но крупнее/страшнее
    const eyes = [];

    function rand(min,max){ return Math.random()*(max-min)+min; }
    function clamp(v,min,max){ return Math.max(min, Math.min(max,v)); }

    function createEye(){
      const el = document.createElement('div');
      el.className = 'eye';
      el.innerHTML = `
        <div class="ball">
          <div class="irisWrap">
            <div class="iris">
              <div class="pupil"></div>
              <div class="spec"></div>
            </div>
          </div>
        </div>
      `;
      eyesLayer.appendChild(el);

      // СИЛЬНАЯ асимметрия размеров
      const size = rand(120, 240);
      el.style.width = size + 'px';
      el.style.height = size + 'px';

      // лёгкий наклон/перекос
      el.style.rotate = rand(-8, 8) + 'deg';

      // initial position
      el.style.left = rand(-0.10, 1.10) * window.innerWidth + 'px'; // иногда обрезается краем
      el.style.top  = rand(-0.08, 1.08) * window.innerHeight + 'px';

      const irisWrap = el.querySelector('.irisWrap');
      const pupil = el.querySelector('.pupil');

      const eyeObj = {
        el,
        irisWrap,
        pupil,
        on:false,
        maxMove: Math.max(10, size * 0.14),
        nextToggle: performance.now() + rand(300, 1800),
        safeRadius: rand(120, 220), // иногда подходит ближе к центру
        // иногда “смотрит мимо”
        drift: rand(-0.35, 0.35),
        // “дыхание” зрачка
        phase: rand(0, Math.PI*2),
        stareLockUntil: 0,
      };
      eyes.push(eyeObj);
      return eyeObj;
    }

    for(let i=0;i<EYES_COUNT;i++) createEye();

    function placeEye(eye){
      const cx = window.innerWidth/2;
      const cy = window.innerHeight/2;

      let x,y, tries=0;
      do{
        // иногда специально около центра (паранойя)
        const nearCenter = Math.random() < 0.18;
        if(nearCenter){
          x = cx + rand(-200, 200);
          y = cy + rand(-170, 170);
        } else {
          // часто по краям, иногда обрезано
          x = rand(-0.12, 1.12) * window.innerWidth;
          y = rand(-0.10, 1.10) * window.innerHeight;
        }
        tries++;
      } while(tries<18 && Math.hypot(x-cx,y-cy) < eye.safeRadius);

      eye.el.style.left = x + 'px';
      eye.el.style.top  = y + 'px';
      eye.el.style.rotate = rand(-10, 10) + 'deg';
    }

    function toggleEye(eye){
      eye.on = !eye.on;
      if(eye.on){
        placeEye(eye);
        eye.el.classList.add('on');
        // появляется чаще, но не рябит
        eye.nextToggle = performance.now() + rand(2200, 5200);
        // иногда “залипает” и не следит за курсором
        if(Math.random() < 0.22){
          eye.stareLockUntil = performance.now() + rand(1000, 2400);
        }
      } else {
        eye.el.classList.remove('on');
        eye.nextToggle = performance.now() + rand(900, 2600);
      }
    }

    function updateEyes(t){
      for(const eye of eyes){
        if(t > eye.nextToggle){
          // чаще появляются, чем исчезают (давит)
          if(!eye.on && Math.random() < 0.86) toggleEye(eye);
          else if(eye.on && Math.random() < 0.55) toggleEye(eye);
          else eye.nextToggle = t + rand(600, 1600);
        }
        if(!eye.on) continue;

        const rect = eye.el.getBoundingClientRect();
        const ex = rect.left + rect.width/2;
        const ey = rect.top  + rect.height/2;

        let tx = pointerX;
        let ty = pointerY;

        // иногда смотрит чуть мимо курсора (это жутко)
        tx += (rect.width * eye.drift);
        ty += (rect.height * eye.drift * 0.35);

        const dx = tx - ex;
        const dy = ty - ey;

        const dist = Math.max(1, Math.hypot(dx,dy));
        const nx = dx / dist;
        const ny = dy / dist;

        // мягкий дрейф, без тошноты
        const jitter = Math.sin((t/1700) + ex*0.01) * 0.25;

        const mx = (nx * eye.maxMove) + jitter;
        const my = (ny * eye.maxMove * 0.70) + jitter;

        // если “залип” — не следит
        if(t < eye.stareLockUntil){
          eye.irisWrap.style.transform = `translate(-50%,-50%) translate(${jitter}px, ${jitter}px)`;
        } else {
          eye.irisWrap.style.transform = `translate(-50%,-50%) translate(${mx}px, ${my}px)`;
        }

        // pupil breathing (без мерцания)
        eye.phase += 0.010;
        const s = 1 + (Math.sin(eye.phase) * 0.07);
        eye.pupil.style.transform = `translate(-50%,-50%) scale(${s})`;
      }
      requestAnimationFrame(updateEyes);
    }
    requestAnimationFrame(updateEyes);

    // ===== TV OFF =====
    const btn = document.getElementById('breakBtn');
    const screen = document.getElementById('screen');
    const blackout = document.getElementById('blackout');

    let off = false;
    btn.addEventListener('click', ()=>{
      if(off) return;
      off = true;

      eyesLayer.style.opacity = '0.9';
      screen.classList.add('tvOff');
      setTimeout(()=> blackout.classList.add('on'), 650);
    });

    window.addEventListener('resize', ()=>{
      pointerX = window.innerWidth * 0.5;
      pointerY = window.innerHeight * 0.5;
    });
  </script>
</body>
</html>
