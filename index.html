<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>...</title>
  <style>
    :root{
      --hud: #dfffff;
      --vhsPink: rgba(255,0,150,.18);
      --vhsCyan: rgba(0,255,255,.18);
      --black: #050507;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{
      width:100%;height:100%;overflow:hidden;background:var(--black);
      font-family:Consolas,"Courier New",monospace;color:var(--hud);
    }

    /* ===== SCREEN WRAP for TV OFF ===== */
    #screen{
      position:fixed; inset:0;
      background: radial-gradient(circle at 50% 35%, rgba(10,12,18,.55), rgba(5,5,7,1) 70%);
      transform-origin:center;
    }

    /* subtle CRT warp + vignette */
    #screen::before{
      content:"";
      position:absolute; inset:-2%;
      background:
        radial-gradient(circle at 50% 0%, rgba(255,255,255,.03) 0, transparent 55%),
        radial-gradient(circle at 0% 100%, rgba(0,255,255,.03) 0, transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(255,0,128,.03) 0, transparent 55%);
      mix-blend-mode: soft-light;
      opacity:.9;
      pointer-events:none;
      animation: warp 16s ease-in-out infinite;
    }
    @keyframes warp{
      0%{transform:scale(1.01) translate(0,0)}
      50%{transform:scale(1.018,1.01) translate(1px,-1px)}
      100%{transform:scale(1.01) translate(0,0)}
    }

    /* scanlines */
    #scanlines{
      position:fixed; inset:0; pointer-events:none; z-index:5;
      background: repeating-linear-gradient(
        0deg,
        rgba(0,0,0,.55) 0px,
        rgba(0,0,0,.55) 2px,
        transparent 3px,
        transparent 6px
      );
      opacity:.35;
      mix-blend-mode:multiply;
    }

    /* noise */
    #noise{
      position:fixed; inset:0; pointer-events:none; z-index:6;
      opacity:.14;
      background: repeating-linear-gradient(
        0deg,
        rgba(255,255,255,.03) 0px,
        rgba(255,255,255,.03) 1px,
        rgba(0,0,0,.03) 1px,
        rgba(0,0,0,.03) 3px
      );
      animation: noiseShift 9s linear infinite;
    }
    @keyframes noiseShift{
      0%{transform:translate(0,0)}
      100%{transform:translate(-60px,0)}
    }

    /* occasional tracking band (slow, not nausea) */
    #tracking{
      position:fixed; inset:0; pointer-events:none; z-index:7;
      opacity:0;
      background: linear-gradient(to bottom,
        transparent 0%,
        rgba(255,255,255,.12) 48%,
        rgba(0,0,0,.65) 52%,
        transparent 100%
      );
      mix-blend-mode:screen;
      animation: tracking 8s infinite;
    }
    @keyframes tracking{
      0%,72%{opacity:0;transform:translateY(-120%)}
      78%{opacity:.35;transform:translateY(-10%)}
      92%{opacity:.18;transform:translateY(55%)}
      100%{opacity:0;transform:translateY(130%)}
    }

    /* ===== Eyes layer ===== */
    #eyesLayer{
      position:fixed; inset:0; z-index:10;
      pointer-events:none;
    }

    /* БОЛЕЕ “ЧЕЛОВЕЧЕСКИЕ” ГЛАЗА */
    .eye{
      position:absolute;
      width: 150px; height: 76px;
      opacity:0;
      transform: translate(-50%,-50%) scale(.98);
      filter: drop-shadow(0 0 12px rgba(0,255,220,.10));
      transition: opacity .7s ease, transform .7s ease;
    }
    .eye.on{ opacity:1; transform: translate(-50%,-50%) scale(1); }

    /* белок + прожилки */
    .eye .white{
      position:absolute; inset:0;
      border-radius: 999px;
      background:
        radial-gradient(circle at 35% 40%, rgba(255,255,255,.28), rgba(255,255,255,.08) 45%, rgba(10,12,18,.78) 80%),
        repeating-linear-gradient(25deg,
          rgba(255,70,70,.06) 0px,
          rgba(255,70,70,.06) 1px,
          transparent 2px,
          transparent 10px
        );
      border: 1px solid rgba(255,255,255,0.10);
      box-shadow:
        inset 0 0 18px rgba(0,0,0,.45),
        -1px 0 0 rgba(255,0,140,.18),
         1px 0 0 rgba(0,255,255,.18),
         0 0 22px rgba(0,255,220,.06);
      overflow:hidden;
    }

    /* веки */
    .eye .lid{
      position:absolute; inset:-3px;
      border-radius:999px;
      background: radial-gradient(circle at 50% 20%, rgba(20,20,24,.96), rgba(5,5,7,.98) 70%);
      transform: translateY(112%);
      animation: none;
    }
    .eye.blink .lid{ animation: blink 4.6s infinite; }
    @keyframes blink{
      0%,90%,100%{transform:translateY(112%)}
      92%{transform:translateY(0%)}
      94%{transform:translateY(112%)}
    }

    /* радужка */
    .eye .iris{
      position:absolute;
      left:50%; top:50%;
      width: 36px; height: 36px;
      border-radius:50%;
      background:
        radial-gradient(circle at 40% 40%, rgba(120,255,240,.35), rgba(0,255,220,.12) 45%, rgba(0,0,0,.82) 72%),
        conic-gradient(from 10deg,
          rgba(0,255,220,.18),
          rgba(0,255,220,.08),
          rgba(255,255,255,.06),
          rgba(0,255,220,.10),
          rgba(0,0,0,.0)
        );
      box-shadow:
        0 0 16px rgba(0,255,220,.12),
        inset 0 0 8px rgba(0,0,0,.45);
      transform: translate(-50%,-50%);
      will-change: transform;
    }

    /* зрачок */
    .eye .pupil{
      position:absolute;
      left:50%; top:50%;
      width: 12px; height: 12px;
      border-radius:50%;
      background: rgba(0,0,0,.95);
      transform: translate(-50%,-50%);
      box-shadow: 0 0 10px rgba(0,0,0,.7);
    }

    /* влажный блик */
    .eye .glint{
      position:absolute;
      left:36%; top:34%;
      width: 10px; height: 8px;
      border-radius: 999px;
      background: rgba(255,255,255,.45);
      filter: blur(.25px);
      transform: rotate(-10deg);
    }

    /* ===== Center button (bear footprint) ===== */
    #center{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      z-index:20;
      pointer-events:none;
    }

    .pawBtn{
      pointer-events:auto;
      cursor:pointer;
      border:none;
      background:transparent;
      transform: translateZ(0);
    }

    .pawWrap{
      position:relative;
      width:min(340px, 82vw);
      aspect-ratio: 1 / 1;
      display:grid;
      place-items:center;
      filter: drop-shadow(0 0 22px rgba(0,255,220,.10));
    }

    .pawWrap svg{width:100%;height:100%}

    .pawText{
      position:absolute;
      width:72%;
      text-align:center;
      font-weight:800;
      letter-spacing:.14em;
      text-transform:uppercase;
      color: var(--hud);
      text-shadow:
        -1px 0 var(--vhsPink),
         1px 0 var(--vhsCyan),
         0 0 14px rgba(0,255,220,.16);
      line-height:1.15;
      font-size: clamp(14px, 3.3vw, 18px);
      user-select:none;
    }

    .pawSub{
      display:block;
      margin-top:10px;
      opacity:.72;
      font-weight:700;
      font-size: .82em;
      letter-spacing:.12em;
    }

    .pawBtn:hover .pawText{
      text-shadow: 0 0 18px rgba(0,255,220,.22), -1px 0 var(--vhsPink), 1px 0 var(--vhsCyan);
    }
    .pawBtn:active{ transform: scale(.98); }

    /* ===== TV OFF animation ===== */
    .tvOff{
      animation: tvOff 750ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes tvOff{
      0%{ transform: scale(1); filter: brightness(1); opacity: 1; }
      55%{
        transform: scaleY(0.03) scaleX(1.02);
        filter: brightness(1.4) contrast(1.2);
        opacity: 1;
      }
      70%{
        transform: scaleY(0.01) scaleX(0.02);
        filter: brightness(2) contrast(1.4);
        opacity: 1;
      }
      100%{ transform: scale(0); opacity: 0; }
    }

    #blackout{
      position:fixed; inset:0; background:#000; z-index:999;
      opacity:0; pointer-events:none;
      transition: opacity .2s ease;
    }
    #blackout.on{ opacity:1; }

    /* Accessibility helper */
    .sr{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;}
  </style>
</head>
<body>
  <div id="screen">
    <div id="eyesLayer"></div>

    <div id="center">
      <button class="pawBtn" id="breakBtn" aria-label="Разрушить проклятие">
        <div class="pawWrap">

          <!-- BEAR FOOTPRINT (muddy imprint) -->
          <svg viewBox="0 0 512 512" aria-hidden="true">
            <defs>
              <radialGradient id="mud" cx="35%" cy="30%" r="80%">
                <stop offset="0%" stop-color="rgba(230,255,255,0.18)"/>
                <stop offset="35%" stop-color="rgba(0,255,220,0.10)"/>
                <stop offset="100%" stop-color="rgba(5,5,7,0.92)"/>
              </radialGradient>

              <filter id="rough">
                <feTurbulence type="fractalNoise" baseFrequency="0.018" numOctaves="2" seed="7" result="n"/>
                <feDisplacementMap in="SourceGraphic" in2="n" scale="10" xChannelSelector="R" yChannelSelector="G"/>
              </filter>
            </defs>

            <!-- toes -->
            <path filter="url(#rough)"
              d="M145 150c-28 0-48 23-48 51s17 57 43 57c27 0 50-24 50-54s-17-54-45-54z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.08)" />
            <path filter="url(#rough)"
              d="M235 120c-30 0-54 23-54 55s21 63 50 63c31 0 56-26 56-60s-20-58-52-58z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.08)" />
            <path filter="url(#rough)"
              d="M325 130c-30 0-55 22-55 54s21 64 50 64c31 0 57-26 57-61s-20-57-52-57z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.08)" />
            <path filter="url(#rough)"
              d="M405 180c-26 0-46 21-46 49s16 58 41 58c27 0 48-25 48-55s-16-52-43-52z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.08)" />

            <!-- main pad -->
            <path filter="url(#rough)"
              d="M256 205
                 C186 205 120 260 120 338
                 C120 434 188 486 256 486
                 C324 486 392 434 392 338
                 C392 260 326 205 256 205 Z"
              fill="url(#mud)" stroke="rgba(255,255,255,0.10)" />

            <!-- subtle claw hints -->
            <path d="M135 238c10-10 18-14 28-16" stroke="rgba(0,255,220,0.10)" stroke-width="3" stroke-linecap="round"/>
            <path d="M220 215c10-11 19-16 31-18" stroke="rgba(0,255,220,0.10)" stroke-width="3" stroke-linecap="round"/>
            <path d="M312 220c11-12 21-16 34-18" stroke="rgba(0,255,220,0.10)" stroke-width="3" stroke-linecap="round"/>
            <path d="M388 252c10-10 18-13 28-14" stroke="rgba(0,255,220,0.10)" stroke-width="3" stroke-linecap="round"/>

            <!-- VHS edge glow -->
            <path
              d="M256 205
                 C186 205 120 260 120 338
                 C120 434 188 486 256 486
                 C324 486 392 434 392 338
                 C392 260 326 205 256 205 Z"
              fill="none" stroke="rgba(0,255,220,0.16)" stroke-width="3"/>
          </svg>

          <div class="pawText">
            РАЗРУШИТЬ<br/>ПРОКЛЯТИЕ
            <span class="pawSub">оставь отпечаток</span>
          </div>
        </div>
      </button>
    </div>

    <div id="scanlines"></div>
    <div id="noise"></div>
    <div id="tracking"></div>
  </div>

  <div id="blackout"></div>

  <script>
    // ===== Pointer tracking =====
    let pointerX = window.innerWidth * 0.5;
    let pointerY = window.innerHeight * 0.5;

    function setPointer(x,y){ pointerX=x; pointerY=y; }

    window.addEventListener('mousemove', (e)=> setPointer(e.clientX,e.clientY), {passive:true});
    window.addEventListener('touchstart', (e)=>{
      const t = e.touches[0]; if(!t) return;
      setPointer(t.clientX, t.clientY);
    }, {passive:true});
    window.addEventListener('touchmove', (e)=>{
      const t = e.touches[0]; if(!t) return;
      setPointer(t.clientX, t.clientY);
    }, {passive:true});

    // ===== Eyes generation =====
    const eyesLayer = document.getElementById('eyesLayer');
    const EYES_COUNT = 14;
    const eyes = [];

    function rand(min,max){ return Math.random()*(max-min)+min; }

    function createEye(){
      const el = document.createElement('div');
      el.className = 'eye blink';
      el.innerHTML = `
        <div class="white">
          <div class="iris">
            <div class="pupil"></div>
            <div class="glint"></div>
          </div>
          <div class="lid"></div>
        </div>
      `;
      eyesLayer.appendChild(el);

      // bigger, human-ish eyes
      const size = rand(110, 190);
      el.style.width = size + 'px';
      el.style.height = (size * 0.50) + 'px';

      el.style.left = rand(8, 92) + 'vw';
      el.style.top  = rand(12, 88) + 'vh';

      // randomize blinking: some blink, some stare
      if(Math.random() < 0.42){
        el.classList.remove('blink');
      } else {
        el.querySelector('.lid').style.animationDuration = rand(3.6, 7.2) + 's';
      }

      const iris = el.querySelector('.iris');

      const eyeObj = {
        el, iris,
        on:false,
        maxMove: Math.max(10, size * 0.10),
        nextToggle: performance.now() + rand(400, 2200),
        safeRadius: rand(160, 240),
        pupilPhase: rand(0, Math.PI*2),
      };
      eyes.push(eyeObj);
      return eyeObj;
    }

    for(let i=0;i<EYES_COUNT;i++) createEye();

    function toggleEye(eye){
      const cx = window.innerWidth/2;
      const cy = window.innerHeight/2;

      let x,y, tries=0;
      do{
        x = rand(0.07, 0.93) * window.innerWidth;
        y = rand(0.12, 0.88) * window.innerHeight;
        tries++;
      } while(tries<25 && Math.hypot(x-cx,y-cy) < eye.safeRadius);

      eye.el.style.left = x + 'px';
      eye.el.style.top  = y + 'px';

      eye.on = !eye.on;
      if(eye.on){
        eye.el.classList.add('on');
        eye.nextToggle = performance.now() + rand(1200, 4300);
      } else {
        eye.el.classList.remove('on');
        eye.nextToggle = performance.now() + rand(700, 2600);
      }
    }

    function updateEyes(t){
      for(const eye of eyes){
        if(t > eye.nextToggle){
          if(!eye.on && Math.random() < 0.84) toggleEye(eye);
          else if(eye.on && Math.random() < 0.54) toggleEye(eye);
          else eye.nextToggle = t + rand(600, 1800);
        }

        if(!eye.on) continue;

        const rect = eye.el.getBoundingClientRect();
        const ex = rect.left + rect.width/2;
        const ey = rect.top  + rect.height/2;

        const dx = pointerX - ex;
        const dy = pointerY - ey;
        const dist = Math.max(1, Math.hypot(dx,dy));
        const nx = dx / dist;
        const ny = dy / dist;

        // slow “nervous drift”, minimal nausea
        const jitter = Math.sin((t/1400) + ex*0.01) * 0.35;

        const mx = (nx * eye.maxMove) + jitter;
        const my = (ny * eye.maxMove * 0.62) + jitter;

        eye.iris.style.transform = `translate(calc(-50% + ${mx}px), calc(-50% + ${my}px))`;

        // subtle “pupil breathing” without flicker
        eye.pupilPhase += 0.008;
        const pupil = eye.el.querySelector('.pupil');
        if(pupil){
          const s = 1 + (Math.sin(eye.pupilPhase) * 0.08);
          pupil.style.transform = `translate(-50%,-50%) scale(${s})`;
        }
      }
      requestAnimationFrame(updateEyes);
    }
    requestAnimationFrame(updateEyes);

    // ===== TV OFF =====
    const btn = document.getElementById('breakBtn');
    const screen = document.getElementById('screen');
    const blackout = document.getElementById('blackout');

    let off = false;
    btn.addEventListener('click', ()=>{
      if(off) return;
      off = true;

      eyesLayer.style.opacity = '0.85';
      screen.classList.add('tvOff');

      setTimeout(()=> blackout.classList.add('on'), 650);
    });

    // keep safe after resize
    window.addEventListener('resize', ()=>{
      pointerX = window.innerWidth * 0.5;
      pointerY = window.innerHeight * 0.5;
    });
  </script>
</body>
</html>
